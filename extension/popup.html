<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>History</title>
<style>
  :root { color-scheme: light dark; }
  
  /* Light mode (default) */
  html, body { 
    width: 480px;
    height: 550px;
    margin: 0;
    padding: 0;
    background: #ffffff;
    color: #202124;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }
  
  #app { visibility: hidden; height: 100%; }
  
  .container { display: flex; flex-direction: column; height: 100%; background: #fff; }
  .header { padding: 12px 16px; border-bottom: 1px solid #e8eaed; flex-shrink: 0; }
  
  #searchBar {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid #dadce0;
    border-radius: 20px;
    font-size: 13px;
    outline: none;
    background: #f8f9fa;
    color: #202124;
    box-sizing: border-box;
  }
  #searchBar:focus { border-color: #1a73e8; background: #fff; }
  
  #historyList { flex: 1; overflow-y: auto; background: #fff; min-height: 0; }
  
  .history-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    border-bottom: 1px solid #f1f3f4;
    cursor: pointer;
  }
  .history-item:hover { background: #f8f9fa; }
  
  .favicon { 
    width: 24px; 
    height: 24px; 
    flex-shrink: 0; 
    background: #f0f0f0;
    border-radius: 6px; 
    display: block;
  }
  .history-item-content { flex: 1; min-width: 0; }
  
  .title-row {
    display: flex;
    align-items: center;
    gap: 4px;
    min-width: 0;
  }
  
  .history-item-title { 
    font-size: 13px; 
    font-weight: 500; 
    overflow: hidden; 
    text-overflow: ellipsis; 
    white-space: nowrap; 
    color: #202124;
    min-width: 0;
  }
  
  .copy-btn {
    width: 20px;
    height: 20px;
    border: none;
    border-radius: 4px;
    background: transparent;
    color: #5f6368;
    cursor: pointer;
    padding: 2px;
    opacity: 0;
    transition: opacity 0.2s;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .title-row:hover .copy-btn,
  .url-row:hover .copy-btn { opacity: 1; }
  
  .copy-btn:hover { background: #e8f0fe; color: #1a73e8; }
  .copy-btn svg { width: 14px; height: 14px; display: block; }
  
  .history-item-meta { display: flex; gap: 8px; font-size: 11px; color: #5f6368; margin-top: 2px; }
  
  .url-row {
    display: flex;
    align-items: center;
    gap: 4px;
    min-width: 0;
  }
  
  .history-item-url { 
    overflow: hidden; 
    text-overflow: ellipsis; 
    white-space: nowrap;
    min-width: 0;
  }
  .history-item-time { flex-shrink: 0; color: #80868b; margin-left: auto; }
  
  .footer {
    padding: 8px 16px;
    border-top: 1px solid #e8eaed;
    flex-shrink: 0;
    text-align: right;
  }

  #viewAllHistory {
    background: none;
    border: none;
    color: #1a73e8;
    font-size: 11px;
    cursor: pointer;
    padding: 4px 0;
    text-decoration: none;
    transition: opacity 0.2s;
  }

  #viewAllHistory:hover {
    opacity: 0.7;
    text-decoration: underline;
  }
  
  #historyList::-webkit-scrollbar { width: 6px; }
  #historyList::-webkit-scrollbar-track { background: transparent; }
  #historyList::-webkit-scrollbar-thumb { background: #dadce0; border-radius: 3px; }
  #historyList::-webkit-scrollbar-thumb:hover { background: #bdc1c6; }
  
  /* Dark mode */
  @media (prefers-color-scheme: dark) {
    html, body {
      background: #202124;
      color: #e8eaed;
    }
    
    .container { background: #202124; }
    .header { border-bottom: 1px solid #3c4043; }
    
    #searchBar {
      background: #303134;
      color: #e8eaed;
      border-color: #5f6368;
    }
    #searchBar:focus { background: #303134; border-color: #8ab4f8; }
    #searchBar::placeholder { color: #9aa0a6; }
    
    #historyList { background: #202124; }
    
    .history-item { border-bottom: 1px solid #3c4043; }
    .history-item:hover { background: #303134; }
    
    .history-item-title { color: #e8eaed; }
    .history-item-meta { color: #9aa0a6; }
    .history-item-time { color: #80868b; }
    
    .copy-btn { color: #9aa0a6; }
    .copy-btn:hover { background: #1e3a5f; color: #8ab4f8; }
    
    .footer { border-top: 1px solid #3c4043; }

    #viewAllHistory {
      color: #8ab4f8;
    }

    #viewAllHistory:hover {
      opacity: 0.7;
    }
    
    #historyList::-webkit-scrollbar-thumb { background: #5f6368; }
    #historyList::-webkit-scrollbar-thumb:hover { background: #80868b; }
  }
</style>
</head>
<body>
<div id="app">
  <div class="container">
    <div class="header">
      <input type="text" id="searchBar" data-i18n-placeholder="searchPlaceholder" autofocus>
    </div>
    <div id="historyList"></div>
    <div class="footer">
      <button id="viewAllHistory" data-i18n="viewAllHistory"></button>
    </div>
  </div>
</div>
<script defer src="popup.js"></script>
</body>
</html>
